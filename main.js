/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var M=Object.defineProperty;var $t=Object.getOwnPropertyDescriptor;var yt=Object.getOwnPropertyNames;var bt=Object.prototype.hasOwnProperty;var wt=(e,t,n)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vt=(e,t)=>{for(var n in t)M(e,n,{get:t[n],enumerable:!0})},Ft=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of yt(t))!bt.call(e,r)&&r!==n&&M(e,r,{get:()=>t[r],enumerable:!(o=$t(t,r))||o.enumerable});return e};var Et=e=>Ft(M({},"__esModule",{value:!0}),e);var l=(e,t,n)=>wt(e,typeof t!="symbol"?t+"":t,n);var Zt={};vt(Zt,{default:()=>Jt});module.exports=Et(Zt);var gt=require("obsidian");var ht=require("obsidian");function f(){}function B(e){return e()}function C(){return Object.create(null)}function d(e){e.forEach(B)}function T(e){return typeof e=="function"}function D(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function J(e){return Object.keys(e).length===0}var W=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var P=class e{constructor(t){l(this,"_listeners","WeakMap"in W?new WeakMap:void 0);l(this,"_observer");l(this,"options");this.options=t}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!=null?t:this._observer=new ResizeObserver(n=>{var o;for(let r of n)e.entries.set(r.target,r),(o=this._listeners.get(r.target))==null||o(r)})}};P.entries="WeakMap"in W?new WeakMap:void 0;var Z=!1;function tt(){Z=!0}function et(){Z=!1}function p(e,t){e.appendChild(t)}function nt(e,t,n){let o=rt(e);if(!o.getElementById(t)){let r=_("style");r.id=t,r.textContent=n,Ot(o,r)}}function rt(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ot(e,t){return p(e.head||e,t),t.sheet}function $(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode&&e.parentNode.removeChild(e)}function _(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function ot(){return E(" ")}function N(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function it(e){return Array.from(e.childNodes)}function st(e,t){t=""+t,e.data!==t&&(e.data=t)}function V(e,t){e.value=t==null?"":t}function ct(e){let t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}var w;function x(e){w=e}var y=[];var ut=[],F=[],at=[],Pt=Promise.resolve(),z=!1;function ft(){z||(z=!0,Pt.then(L))}function k(e){F.push(e)}var G=new Set,v=0;function L(){if(v!==0)return;let e=w;do{try{for(;v<y.length;){let t=y[v];v++,x(t),Nt(t.$$)}}catch(t){throw y.length=0,v=0,t}for(x(null),y.length=0,v=0;ut.length;)ut.pop()();for(let t=0;t<F.length;t+=1){let n=F[t];G.has(n)||(G.add(n),n())}F.length=0}while(y.length);for(;at.length;)at.pop()();z=!1,G.clear(),x(e)}function Nt(e){if(e.fragment!==null){e.update(),d(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(k)}}function pt(e){let t=[],n=[];F.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),F=t}var Lt=new Set;function j(e,t){e&&e.i&&(Lt.delete(e),e.i(t))}var It=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Rt=new Set([...It]);function Wt(e,t,n){let{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),k(()=>{let i=e.$$.on_mount.map(B).filter(T);e.$$.on_destroy?e.$$.on_destroy.push(...i):d(i),e.$$.on_mount=[]}),r.forEach(k)}function Vt(e,t){let n=e.$$;n.fragment!==null&&(pt(n.after_update),d(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Gt(e,t){e.$$.dirty[0]===-1&&(y.push(e),ft(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(e,t,n,o,r,i,s=null,a=[-1]){let u=w;x(e);let c=e.$$={fragment:null,ctx:[],props:i,update:f,not_equal:r,bound:C(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:C(),dirty:a,skip_bound:!1,root:t.target||u.$$.root};s&&s(c.root);let A=!1;if(c.ctx=n?n(e,t.props||{},(g,Y,...U)=>{let X=U.length?U[0]:Y;return c.ctx&&r(c.ctx[g],c.ctx[g]=X)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](X),A&&Gt(e,g)),Y}):[],c.update(),A=!0,d(c.before_update),c.fragment=o?o(c.ctx):!1,t.target){if(t.hydrate){tt();let g=it(t.target);c.fragment&&c.fragment.l(g),g.forEach(m)}else c.fragment&&c.fragment.c();t.intro&&j(e.$$.fragment),Wt(e,t.target,t.anchor),et(),L()}x(u)}var zt;typeof HTMLElement=="function"&&(zt=class extends HTMLElement{constructor(t,n,o){super();l(this,"$$ctor");l(this,"$$s");l(this,"$$c");l(this,"$$cn",!1);l(this,"$$d",{});l(this,"$$r",!1);l(this,"$$p_d",{});l(this,"$$l",{});l(this,"$$l_u",new Map);this.$$ctor=t,this.$$s=n,o&&this.attachShadow({mode:"open"})}addEventListener(t,n,o){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){let r=this.$$c.$on(t,n);this.$$l_u.set(n,r)}super.addEventListener(t,n,o)}removeEventListener(t,n,o){if(super.removeEventListener(t,n,o),this.$$c){let r=this.$$l_u.get(n);r&&(r(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(i){return()=>{let s;return{c:function(){s=_("slot"),i!=="default"&&h(s,"name",i)},m:function(c,A){$(c,s,A)},d:function(c){c&&m(s)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let n={},o=ct(this);for(let i of this.$$s)i in o&&(n[i]=[t(i)]);for(let i of this.attributes){let s=this.$$g_p(i.name);s in this.$$d||(this.$$d[s]=H(s,i.value,this.$$p_d,"toProp"))}for(let i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$scope:{ctx:[]}}});let r=()=>{this.$$r=!0;for(let i in this.$$p_d)if(this.$$d[i]=this.$$c.$$.ctx[this.$$c.$$.props[i]],this.$$p_d[i].reflect){let s=H(i,this.$$d[i],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,s)}this.$$r=!1};this.$$c.$$.after_update.push(r),r();for(let i in this.$$l)for(let s of this.$$l[i]){let a=this.$$c.$on(i,s);this.$$l_u.set(s,a)}this.$$l={}}}attributeChangedCallback(t,n,o){var r;this.$$r||(t=this.$$g_p(t),this.$$d[t]=H(t,o,this.$$p_d,"toProp"),(r=this.$$c)==null||r.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(t){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function H(e,t,n,o){var i;let r=(i=n[e])==null?void 0:i.type;if(t=r==="Boolean"&&typeof t!="boolean"?t!=null:t,!o||!n[e])return t;if(o==="toAttribute")switch(r){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(r){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}var b=class{constructor(){l(this,"$$");l(this,"$$set")}$destroy(){Vt(this,1),this.$destroy=f}$on(t,n){if(!T(n))return f;let o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{let r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!J(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var dt="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dt);function Ht(e){nt(e,"svelte-r72pq7",".number.svelte-r72pq7{color:red}")}function Kt(e){let t,n,o,r,i;return{c(){t=_("div"),n=_("span"),o=E("My number is "),r=E(e[0]),i=E("!"),h(t,"class","number svelte-r72pq7")},m(s,a){$(s,t,a),p(t,n),p(n,o),p(n,r),p(n,i)},p(s,[a]){a&1&&st(r,s[0])},i:f,o:f,d(s){s&&m(t)}}}function Qt(e,t,n){let{variable:o=0}=t;return e.$$set=r=>{"variable"in r&&n(0,o=r.variable)},[o]}var K=class extends b{constructor(t){super(),I(this,t,Qt,Kt,D,{variable:0},Ht)}},_t=K;var S="example-view",R=class extends ht.ItemView{constructor(t){super(t)}getViewType(){return S}getDisplayText(){return"Example view"}async onOpen(){let t={variable:1};this.component=new _t({target:this.contentEl,props:t})}async onClose(){var t;(t=this.component)==null||t.$destroy()}};var xt=require("obsidian");var Jn=require("obsidian");function Yt(e){let t,n,o,r,i,s,a;return{c(){t=_("div"),n=_("div"),n.innerHTML='<div class="setting-item-name">OpenAI API Key</div> <div class="setting-item-description">Enter your OpenAI API key to enable AI features</div>',o=ot(),r=_("div"),i=_("input"),h(n,"class","setting-item-info"),h(i,"type","password"),h(i,"placeholder","sk-..."),h(r,"class","setting-item-control"),h(t,"class","setting-item")},m(u,c){$(u,t,c),p(t,n),p(t,o),p(t,r),p(r,i),V(i,e[0]),s||(a=[N(i,"input",e[3]),N(i,"change",e[1])],s=!0)},p(u,[c]){c&1&&i.value!==u[0]&&V(i,u[0])},i:f,o:f,d(u){u&&m(t),s=!1,d(a)}}}function Ut(e,t,n){var o;let{plugin:r}=t,i=((o=r.settings)===null||o===void 0?void 0:o.OPENAI_API_KEY)||"";async function s(){r.settings&&(n(2,r.settings.OPENAI_API_KEY=i,r),await r.saveSettings())}function a(){i=this.value,n(0,i)}return e.$$set=u=>{"plugin"in u&&n(2,r=u.plugin)},[i,s,r,a]}var Q=class extends b{constructor(t){super(),I(this,t,Ut,Yt,D,{plugin:2})}},mt=Q;var q=class extends xt.PluginSettingTab{constructor(t,n){super(t,n),this.plugin=n}display(){let{containerEl:t}=this;t.empty(),this.component=new mt({target:t,props:{plugin:this.plugin}})}hide(){var t;(t=this.component)==null||t.$destroy()}};var Xt={},O=class extends gt.Plugin{async onload(){console.log("loading plugin"),await this.loadSettings(),this.addSettingTab(new q(this.app,this)),this.registerView(S,t=>new R(t)),this.addRibbonIcon("sparkles","Activate view",()=>{this.activateView()})}async loadSettings(){this.settings=Object.assign({},Xt,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async onunload(){console.log("unloading plugin")}async activateView(){let{workspace:t}=this.app,n=null,o=t.getLeavesOfType(S);o.length>0?n=o[0]:(n=t.getRightLeaf(!1),await(n==null?void 0:n.setViewState({type:S,active:!0}))),n&&t.revealLeaf(n)}};var Jt=O;
